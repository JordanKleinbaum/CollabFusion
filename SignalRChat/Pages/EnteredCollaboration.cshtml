@page
@using Microsoft.AspNetCore.Http
@using SignalRChat.Pages.DB
@model SignalRChat.Pages.EnteredCollaborationModel
@{
    ViewData["username"] = HttpContext.Session.GetString("username");
    ViewData["collabid"] = HttpContext.Session.GetInt32("collabid");
}

<br />

<h1>@Model.CollaborationName</h1>
<form method="post">
    <div>
        <label for="tableNameInput">Enter Table Name:</label>
        <input type="text" id="tableNameInput" />
        <button type="submit" class="btn btn-primary" onclick="createTable()">Create Table</button>
    </div>
</form>

<br />
<br />
<div id="tableContainer"></div>

<script>
    function createTable() {
        var tableName = document.getElementById('tableNameInput').value;
        var tableContainer = document.getElementById('tableContainer');
        var table = document.createElement('table');
        table.className = 'table';

        var thead = document.createElement('thead');
        var tr = document.createElement('tr');
        var thFileName = document.createElement('th');
        thFileName.textContent = 'File Name';
        var thDateAdded = document.createElement('th');
        thDateAdded.textContent = 'Date Added';
        var thCommand = document.createElement('th');
        thCommand.textContent = 'Command';
        tr.appendChild(thFileName);
        tr.appendChild(thDateAdded);
        tr.appendChild(thCommand);
        thead.appendChild(tr);
        table.appendChild(thead);

        var tbody = document.createElement('tbody');
        // You can add rows dynamically here if needed
        table.appendChild(tbody);

        tableContainer.innerHTML = ''; // Clear previous table
        var tableNameHeader = document.createElement('h2');
        tableNameHeader.textContent = tableName;
        tableContainer.appendChild(tableNameHeader);
        tableContainer.appendChild(table);
    }
</script>
<br />
<a asp-page="/UploadFile" class="btn" style="background-color: #293A7F; color: white; width: 100%;">Upload Document</a>
<br />
<br />
<a asp-page="PrintReport" class="btn" style="background-color: #293A7F; color: white; width: 100%;">Print Report</a>
<br />
<br />
<a class="btn" style="background-color: #293A7F; color: white;" asp-page="/CollabHub">&#8592; Back</a>