@page
@using System.Data.SqlClient
@using SignalRChat.Pages.DB
@model SignalRChat.Pages.EnteredCollaborationModel
@{
    ViewData["username"] = HttpContext.Session.GetString("username");
    ViewData["collabid"] = HttpContext.Session.GetInt32("collabid");
}
<br />

<h1>@Model.CollaborationName</h1>
<br />
<h1>Knowledge Items (Turn into Analysis Eventually)</h1>
<table class="table table-striped table-bordered">
    <thead class="thead-dark">
        <tr>
            @* <th>KnowledgeID</th> *@
            <th>Knowledge Title</th>
            <th>Knowledge Subject</th>
            <th>Category</th>
            <th>Information</th>
            <th>Knowledge Date</th>
            <th>Actions</th>
            @* <th>UserID</th> *@
        </tr>
    </thead>
    <tbody>
        @{
            SqlDataReader KnowledgeItemReader = DBClass.GetAllKnowledgeItems();

            while (KnowledgeItemReader.Read())
            {
                <tr>
                    @*<td>@KnowledgeItemReader["KnowledgeID"]</td>*@
                    <td>@KnowledgeItemReader["KnowledgeTitle"]</td>
                    <td>@KnowledgeItemReader["KnowledgeSubject"]</td>
                    <td>@KnowledgeItemReader["Category"]</td>
                    <td>@KnowledgeItemReader["Information"]</td>
                    <td>@KnowledgeItemReader["KNDate"]</td>
                    <td>
                        <button type="button" class="btn btn-primary">Edit</button>
                    </td>

                    @*<td>@KnowledgeItemReader["UserID"]</td>*@

                </tr>
            }

            DBClass.CollabFusionDBConnection.Close();
        }

    </tbody>
</table>

<a asp-page="/KnowledgeItem" class="btn" style="background-color: #293A7F; color: white;">Create Knowledge Item</a>
<hr />
<br />
<a asp-page="PrintReport" class="btn" style="background-color: #293A7F; color: white; width: 100%;">Print Report</a>
